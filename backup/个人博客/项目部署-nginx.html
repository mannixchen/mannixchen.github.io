<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Nginx | Mannix Chenâ€™s Blog</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Nginx" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is a wonderful website about awesome stuff." />
<meta property="og:description" content="This is a wonderful website about awesome stuff." />
<link rel="canonical" href="https://mannixchen.github.io/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2-nginx.html" />
<meta property="og:url" content="https://mannixchen.github.io/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2-nginx.html" />
<meta property="og:site_name" content="Mannix Chenâ€™s Blog" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Nginx" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"This is a wonderful website about awesome stuff.","headline":"Nginx","url":"https://mannixchen.github.io/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2-nginx.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://mannixchen.github.io/feed.xml" title="Mannix Chen&apos;s Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Mannix Chen&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/backup/2023-12-21-01-file-management.html">æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ</a><a class="page-link" href="/backup/2023-12-21-02-git-sync-github.html">æœ¬åœ° git ä»“åŒæ­¥åˆ° github æ–°åº“</a><a class="page-link" href="/backup/centos7.html">Update git from v1.8 - v2.x</a><a class="page-link" href="/backup/sub/finalcutpro.html">æ·»åŠ  keyword</a><a class="page-link" href="/backup/sub/javaLearn.html">Java åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„</a><a class="page-link" href="/backup/sub/vloganalyze.html">è¶Šå—notebookæ„Ÿæ‚Ÿ</a><a class="page-link" href="/backup/sub/%E5%BF%83%E6%B5%81.html">ç¬¬ä¸€ç« </a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/WAKE%20UP.html">wake up(2018.9) - casey day</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/bean.html">bean</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/ghost%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%92%8C%E9%85%8D%E7%BD%AE.html">ghostä¸ªäººåšå®¢æ­å»º ( centos 7 ) å’Œé…ç½® ( æ±‰åŒ– - æœç´¢ - è¯„è®º )</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/ghost%E9%85%8D%E7%BD%AE.html">ghoståšå®¢é…ç½®</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E4%B8%9A%E7%95%8C%E7%99%BB%E5%BD%95%E6%8C%87%E5%8D%97.html">ç™»å½• - ä¸šç•Œè§£å†³æ–¹æ¡ˆ</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92.html">å­¦ä¹ è®¡åˆ’</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%85%A5%E9%97%A8.html">ç»„ä»¶</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E6%80%8E%E4%B9%88%E7%94%A8Nodejs%E5%86%99%E7%99%BB%E5%BD%95.html">ç”¨ Nodejs å†™ç™»å½•åŠŸèƒ½</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E6%94%BE%E4%B8%8B.html">æ”¾ä¸‹</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E6%96%B0%E7%94%B5%E8%84%91-%E6%96%B0%E6%89%A9%E5%B1%95%E5%9D%9E-%E6%B6%B2%E5%8E%8B%E8%87%82.html">å¹´ä¸­æ¢æ–°æœº, 22æ—¥å®˜ç½‘ä¸‹å•</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E8%AF%BB%20vue3%20%E6%96%87%E6%A1%A3.html">Getting Started</a><a class="page-link" href="/backup/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2-nginx.html">Nginx</a><a class="page-link" href="/backup/%E6%80%9D%E8%80%83%F0%9F%A4%94.html">æ€è€ƒ</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0726.html">é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0727.html">å°é›¨è½¬å„ç§é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0728.html">é›¨ -&amp;gt; é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0729.html">é˜´ -&amp;gt; å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0730.html">å¤§æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0731.html">å¤§æ™´ - æ„‰å¿«å­¦ä¹ , ç¼ºä¹è¿åŠ¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0801.html">å¤§æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0802.html">æ™´/é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0803.html">æ™´æ—¥, å¶æœ‰å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0804.html">æ™´å¤©</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0805.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0806.html">æ™´/å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0807.html">å¦¥å¦¥çš„å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0808.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0809.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0810.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0811.html">é˜´ -&amp;gt; é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0812.html">é˜´ -&amp;gt; å°é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0813.html">å¤§é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0814.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0815.html">é˜´é›¨ -&amp;gt; è¿ç€å¥½å‡ å¤©</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0816.html">é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0817.html">ç¾å¥½çš„æ™´å¤©</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0818.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0819.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0820.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0821.html">é˜´-&amp;gt;æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0822.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0823.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0824.html">é˜´ -&amp;gt; é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0825.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0826.html">é˜´ -&amp;gt; é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0827.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0828.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0829.html">å¤§é›¨æ»‚æ²±</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0830.html">é˜´ -&amp;gt; å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0831.html">æ™´, å¤§æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0901.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0902.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0903.html">é˜´ -&amp;gt; æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0904.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0905.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0906.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0907.html">å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0908.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0909.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0910.html">å¤§æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0911.html">å¤§æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0912.html">å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0913.html">å°é£å¤©-ç¿éƒ½</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0914.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0915.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0916.html">æ™´å¤©</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0917.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0918.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0919.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0920.html">é˜´ -&amp;gt; å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0921.html">æ™´ -&amp;gt; ä¸­ç§‹</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0922.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0923.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0924.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0925.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0926.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0927.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0928.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/0929.html">é›¨</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1017.html">å¤šäº‘</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1029.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1030.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1031.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1101.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1103.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1104.html">é˜´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1105.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1106.html">æ™´, ä½†æ˜¯å†·</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1107.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1108.html">æ™´, ä¹Ÿå†·</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1109.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1110.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1111.html">æ™´, ç©ºæ°”è´¼å¥½</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1112.html">ç©ºæ°”å¥½</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1113.html">ç©ºæ°”ä¹Ÿä¸é”™</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1114.html">æ— </a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1115.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1116.html">æ™´</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1117.html">å¼‚æ­¥å‡½æ•°</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1120.html">JDK</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/2021/1121.html">ç±»åå­— - æ ‡è¯†ç¬¦</a><a class="page-link" href="/backup/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/Becoming%20Steve%20Jobs.html">Prologue /â€™prolÉ”É¡/ åºè¨€å¼€åœºç™½</a><a class="page-link" href="/backup/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/Vim%E7%AF%87.html">https://vim.rtorr.com/lang/en_us</a><a class="page-link" href="/backup/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%B2%9B%E4%B8%8A%E4%B9%A6%E5%BA%97%E8%AF%BB%E5%90%8E%E6%84%9F.html">è¿‡å¹´å’Œå¹´åçš„æ—¥å­ - å¤šå¹´æœªçœ‹çš„</a><a class="page-link" href="/backup/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E5%B9%B8%E7%A6%8F%E7%9A%84%E6%96%B9%E6%B3%95%E8%AF%BB%E5%90%8E%E6%84%9F.html">å¹¸ç¦çš„æ–¹æ³•</a><a class="page-link" href="/">Blog Posts</a><a class="page-link" href="/backup/">blog</a><a class="page-link" href="/backup/%E6%97%A5%E5%BF%97/">JavaScript å¿è€…ç§˜ç±ğŸ¥· 0729-0814</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Nginx</h1>
  </header>

  <div class="post-content">
    <h1 id="nginx">Nginx</h1>

<blockquote>
  <p>é«˜å¹¶å‘, å ç”¨æ›´å°‘çš„å†…å­˜å’Œèµ„æº, å–„äºå¤„ç†é™æ€æ–‡ä»¶</p>

  <p>é…ç½®ç®€å•(nginx.conf), è¿è¡Œç®€å•</p>
</blockquote>

<h4 id="å®‰è£…">å®‰è£…</h4>

<p>â€¦â€¦</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">--</span><span class="nx">ubuntu</span>
<span class="nx">apt</span> <span class="nx">install</span> <span class="nx">nginx</span>
<span class="o">--</span><span class="nx">åˆ¤æ–­æ˜¯å¦å®‰è£…æˆåŠŸ</span>
<span class="nx">nginx</span> <span class="o">-</span><span class="nx">v</span>
<span class="o">--</span><span class="nx">ä¸‰ä¸ªå¸¸ç”¨ç›®å½•</span>
<span class="mi">1</span><span class="p">.</span><span class="nx">etc</span><span class="o">/</span><span class="nx">nginx</span>
<span class="mi">2</span><span class="p">.</span><span class="o">/</span><span class="kd">var</span><span class="sr">/log/</span><span class="nx">nginx</span> <span class="nx">æ—¥å¿—ç›®å½•</span>
<span class="mi">3</span><span class="p">.</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">share</span><span class="o">/</span><span class="nx">nginx</span><span class="o">/</span><span class="nx">html</span><span class="o">/</span> <span class="nx">é»˜è®¤é¦–é¡µç›®å½•</span>

<span class="nx">å¸¸ç”¨æ“ä½œå†…å®¹</span><span class="p">:</span>
<span class="mi">1</span><span class="p">.</span> <span class="nx">nginx</span><span class="o">/</span><span class="nx">conf</span><span class="p">.</span><span class="nx">d</span> 	<span class="c1">// é…ç½®æ–‡ä»¶ç›®å½•</span>
<span class="mi">2</span><span class="p">.</span> <span class="nx">nginx</span><span class="o">/</span><span class="nx">nginx</span><span class="p">.</span><span class="nx">conf</span> <span class="c1">// å…¨å±€é…ç½®æ–‡ä»¶ -&gt; é€šè¿‡inclueå¯¼å…¥é…ç½®æ–‡ä»¶ include /etc/nginx/conf.d/*.conf;</span>





</code></pre></div></div>

<h4 id="è¿œç¨‹è¿æ¥é…ç½®æ–‡ä»¶">è¿œç¨‹è¿æ¥é…ç½®æ–‡ä»¶</h4>

<blockquote>
  <p>vscodeä¸ºä¾‹</p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span><span class="p">.</span> <span class="nx">å®‰è£…SFTP</span> <span class="nx">æ’ä»¶</span>
<span class="mi">2</span><span class="p">.</span> <span class="nx">æ§åˆ¶é¢æ¿</span><span class="o">-&gt;</span> <span class="nx">è¾“å…¥sftp</span>
<span class="mi">3</span><span class="p">.</span> <span class="nx">è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶è¿›è¡Œé…ç½®</span>
<span class="mi">4</span><span class="p">.</span> <span class="nx">å³é”®downloadfolder</span>
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/20210228162439.png" alt="" /></p>

<blockquote>
  <p>è¿æ¥å®Œå°±å¯ä»¥åœ¨vscodeä¸­è¿›è¡Œæ–‡æœ¬ç¼–è¾‘</p>
</blockquote>

<h4 id="nginxé…ç½®æ®µ">nginxé…ç½®æ®µ</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">user</span> <span class="s">-ç”¨æˆ·å</span>
<span class="s">worker_processes</span> <span class="s">-å¤šè¿›ç¨‹</span>
<span class="s">pid</span> <span class="s">-æŒ‡å®šè¿›ç¨‹å·çš„</span>
<span class="s">events</span> <span class="p">{</span>
    <span class="kn">worker_conection:</span> <span class="s">-æœ€å¤šè¿æ¥æ•°</span>
<span class="err">}</span>
<span class="s">http</span> <span class="p">{</span>
     <span class="kn">-å¯ä»¥å¯¼å…¥serveré…ç½®æ®µå†…å®¹</span>
        <span class="s">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">80</span> <span class="s">-å¿…å¡«</span>
        <span class="s">server_name:</span> <span class="s">-ç»™ä½ çš„ç›‘å¬çš„æœåŠ¡å‘½åä¸€ä¸ªåå­—,</span> <span class="s">ä¹Ÿå¯ä»¥ä¸æŒ‡å®š</span>
        <span class="s">location</span> <span class="n">/</span> <span class="p">{</span> <span class="kn">-åŒ¹é…è§„åˆ™</span>
            <span class="s">root</span> <span class="n">/etc/nginx/html</span><span class="p">;</span> <span class="kn">-æŒ‡å®šæ–‡ä»¶ç›®å½•</span>
            <span class="s">index</span> <span class="s">index.html</span><span class="p">;</span> <span class="kn">-æŒ‡å®šè¿”å›çš„é¦–é¡µæ–‡ä»¶</span>
        <span class="err">}</span>
    <span class="err">}</span>
<span class="err">}</span>
<span class="s">-ä¸€èˆ¬æˆ‘ä»¬åœ¨conf.dä¸­è¿›è¡Œserveré…ç½®</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/http-Nginx-http-conf.png" alt="" /></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">nginx</span> <span class="o">-</span><span class="nx">t</span> <span class="c1">//æµ‹è¯•nginxæ˜¯å¦æµ‹è¯•é€šè¿‡</span>
<span class="nx">nginx</span> <span class="o">-</span><span class="nx">s</span> <span class="nx">reload</span> <span class="c1">// nginxé‡è½½</span>

</code></pre></div></div>

<h4 id="nginxè·¯å¾„åŒ¹é…ä¼˜å…ˆçº§">nginxè·¯å¾„åŒ¹é…ä¼˜å…ˆçº§</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># é€šç”¨åŒ¹é…</span>
<span class="k">location</span> <span class="n">/</span> <span class="p">{</span>
    <span class="kn">return</span> <span class="mi">400</span><span class="p">;</span> <span class="kn">-è¿”å›çŠ¶æ€ç </span>
<span class="err">}</span>
<span class="c1"># ç²¾ç¡®åŒ¹é… ä¼˜å…ˆçº§æœ€é«˜***</span>
<span class="s">location</span> <span class="p">=</span> <span class="n">/</span> <span class="p">{</span>
	<span class="kn">return</span> <span class="mi">400</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1"># ä¼˜å…ˆåŒ¹é… ä¼˜å…ˆçº§åˆ«ç¬¬äºŒ**</span>
<span class="kn">location</span> <span class="p">~</span> <span class="sr">/</span> <span class="p">{</span>
    <span class="kn">return</span> <span class="mi">402</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="try_files-å’Œreturnçš„ä½¿ç”¨åŒºåˆ«">try_files å’Œreturnçš„ä½¿ç”¨åŒºåˆ«</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># try_files å¯¹æ ¹è·¯å¾„åŒ¹é…æ— æ•ˆ</span>
<span class="k">location</span> <span class="n">/a</span> <span class="p">{</span> 
    <span class="c1">#try_files æ— æ³•å¤„ç†æ ¹è·¯å¾„</span>
    <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri</span><span class="n">/</span> <span class="p">=</span><span class="mi">400</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1"># try_files é…åˆ@ä½¿ç”¨ </span>
<span class="k">location</span> <span class="n">/a</span> <span class="p">{</span> 
    <span class="c1">#try_files æ— æ³•å¤„ç†æ ¹è·¯å¾„</span>
    <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri</span><span class="n">/</span> <span class="s">@meiduo</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">location</span> <span class="s">@meiduo</span> <span class="p">{</span>
    <span class="kn">return</span> <span class="mi">402</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">#return ä½¿ç”¨è·³è½¬</span>
<span class="k">location</span> <span class="n">/</span> <span class="p">{</span>
    <span class="kn">return</span> <span class="mi">302</span> <span class="s">http://www.baidu.com</span><span class="p">;</span>  <span class="kn">-return</span> <span class="s">é‡å®šå‘</span>
<span class="err">}</span>
</code></pre></div></div>

<h4 id="åŒ¹é…è·¯å¾„åé¢çš„æ–œæ é—®é¢˜">åŒ¹é…è·¯å¾„åé¢çš„æ–œæ é—®é¢˜</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">location</span> <span class="n">/a</span> <span class="p">{</span> <span class="c1">#æ²¡æœ‰æ–œæ   ip/a &amp;&amp; ip/a/éƒ½å¯ä»¥è®¿é—®</span>
    <span class="kn">return</span> <span class="mi">400</span><span class="p">;</span>  
<span class="p">}</span>
<span class="k">location</span> <span class="n">/a/</span> <span class="c1">#åŠ äº†æ–œæ   ip/a ä¸å¯ä»¥è®¿é—®</span>
</code></pre></div></div>

<h4 id="rootå’Œaliasä½¿ç”¨å’ŒåŒºåˆ«">rootå’Œaliasä½¿ç”¨å’ŒåŒºåˆ«</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">#æ ¹è·¯å¾„</span>
<span class="k">location</span> <span class="n">/</span> <span class="p">{</span>
    <span class="kn">root</span> <span class="n">/etc/nginx/html</span>
    <span class="c1"># å¦‚æœæŒ‡å®šç›®å½•ä¸‹, ä¼šè‡ªåŠ¨åŠ è½½index.html</span>
    <span class="c1"># å¦‚æœæƒ³æŒ‡å®šå…¶ä»–æ–‡ä»¶, æ·»åŠ indexå±æ€§</span>
    <span class="s">index</span> <span class="mi">8000</span><span class="s">.html</span>
<span class="err">}</span>

<span class="s">location</span> <span class="n">/</span> <span class="p">{</span>
    <span class="kn">alias</span> <span class="n">/etc/nginx/html/</span>
    <span class="c1"># aliasåé¢éœ€è¦åŠ ä¸Šæ–œæ </span>
<span class="err">}</span>
<span class="c1">#æŒ‡å®šè·¯å¾„</span>
<span class="s">location</span> <span class="n">/a</span> <span class="p">{</span>
    <span class="kn">root</span> <span class="n">/etc/nginx/html</span>
    <span class="c1"># æ˜¯æ— æ³•é»˜è®¤åŠ è½½æŒ‡å®šè·¯å¾„ä¸‹çš„index.html</span>
<span class="err">}</span>

<span class="s">location</span> <span class="n">/a</span> <span class="p">{</span>
    <span class="kn">alias</span> <span class="n">/etc/nginx/html</span>
    <span class="c1"># aliaså¯ä»¥é»˜è®¤è®¿é—®åˆ°è·¯å¾„ä¸‹çš„index.html</span>
<span class="err">}</span>
</code></pre></div></div>

<h4 id="è®¿é—®æƒé™æ§åˆ¶">è®¿é—®æƒé™æ§åˆ¶</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æˆ‘å…è®¸æŒ‡å®šå®¢æˆ·ç«¯æ¥è®¿é—®æˆ‘</span>
<span class="k">location</span> <span class="n">/</span> <span class="p">{</span>
    <span class="kn">stub_status</span> <span class="no">on</span><span class="p">;</span> <span class="c1"># è¿”å›nginxçš„çŠ¶æ€ä¿¡æ¯</span>
    <span class="kn">allow</span> <span class="mi">10</span><span class="s">.211.55.30</span><span class="p">;</span> <span class="c1"># æŒ‡å®šå“ªä¸ªipçš„å®¢æˆ·ç«¯è®¿é—® </span>
    <span class="kn">deny</span> <span class="s">all</span><span class="p">;</span> <span class="c1"># é™¤äº†å…è®¸çš„å…¶ä»–éƒ½æ‹’ç»</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="ç›®å½•ä¸‹è½½æ§åˆ¶">ç›®å½•ä¸‹è½½æ§åˆ¶</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">location</span> <span class="n">/download</span> <span class="p">{</span>
    <span class="kn">alias</span> <span class="n">/etc/nginx</span><span class="p">;</span>
    <span class="kn">autoindex</span> <span class="no">on</span><span class="p">;</span> <span class="c1">#å¼€å¯ç›®å½•ä¸‹è½½æœåŠ¡</span>
    
<span class="p">}</span>
</code></pre></div></div>

<h4 id="åå‘ä»£ç†çš„ä½¿ç”¨">åå‘ä»£ç†çš„ä½¿ç”¨</h4>

<blockquote>
  <p>å¯ä»¥éšè—æœåŠ¡å™¨ip</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">ä¸¾ä¸ªä¾‹å­: </code>è¯·æ±‚åŸŸåçš„80ç«¯å£, æ­¤æ—¶nginxå†æŠŠè¯·æ±‚è½¬å‘åˆ°äº†8000ç«¯å£</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">proxy</span><span class="p">.</span><span class="nx">conf</span>
<span class="nx">server</span> <span class="p">{</span>
    <span class="nx">listen</span> <span class="nx">ip</span><span class="p">:</span><span class="mi">80</span>
    <span class="nx">location</span> <span class="o">/</span> <span class="p">{</span>
        <span class="nx">proxy_pass</span> <span class="na">http</span><span class="p">:</span><span class="c1">//ip:8000; # ç”¨æˆ·è®¿é—®80, æ­¤æ—¶ä»£ç†ç»™äº†8000, è®©ä¸‹é¢çš„8000ç«¯å£æ¥å¤„ç†</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">server</span> <span class="p">{</span>
    <span class="nx">listen</span> <span class="nx">ip</span><span class="p">:</span> <span class="mi">8000</span><span class="p">;</span>
    <span class="nx">location</span> <span class="o">/</span> <span class="p">{</span>
      <span class="nx">root</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">nginx</span><span class="o">/</span><span class="nx">html</span><span class="p">;</span>
      <span class="nx">index</span> <span class="mi">8000</span><span class="p">.</span><span class="nx">html</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="è´Ÿè½½å‡è¡¡çš„ä½¿ç”¨">è´Ÿè½½å‡è¡¡çš„ä½¿ç”¨</h4>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#è´Ÿè½½å‡è¡¡çš„å¯ç”¨</span>
<span class="k">upstream</span> <span class="s">name</span> <span class="p">{</span>
    <span class="c1">#é»˜è®¤æ˜¯è½®è¯¢</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8000</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8001</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8002</span><span class="p">;</span>
    <span class="c1">#åŠ æƒè½®è¯¢</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8000</span> <span class="s">weight=1</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8001</span> <span class="s">weight=2</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8002</span> <span class="s">weight=3</span><span class="p">;</span> <span class="c1">#æƒé‡è¶Šå¤§, å‡ºç°çš„æœºç‡è¶Šé«˜, æ•°å­—è¶Šå¤§æƒé‡è¶Šå¤§</span>
    <span class="c1"># ip_hash</span>
    <span class="c1">#ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™, ä¼šåˆ†é…ä¸€ä¸ªæœåŠ¡ç«¯ip, ä»¥åçš„æ‰€æœ‰è¯·æ±‚éƒ½æ˜¯ç”¨ç¬¬ä¸€æ¬¡çš„æœåŠ¡ip</span>
    <span class="kn">ip_hash</span><span class="p">;</span> <span class="c1">#å¼€é€šip_hashè®¿é—® </span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8000</span> <span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8001</span> <span class="p">;</span>
    <span class="kn">server</span> <span class="nf">ip</span><span class="p">:</span><span class="mi">8002</span> <span class="p">;</span>
<span class="p">}</span>
<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
        <span class="kn">proxy_pass</span> <span class="s">http://upstream-name</span> 
    <span class="err">}</span>
<span class="err">}</span>
<span class="c1"># ä»£ç†ä¸ºupstream, å¯ä»¥è§£å†³è´Ÿè½½å‡è¡¡çš„é—®é¢˜, è®¿é—®http://upstream-nameåˆ†æµè®¿é—®æŒ‡å®šçš„server, é‡Šæ”¾æœåŠ¡å™¨å‹åŠ›(é»˜è®¤æ˜¯è½®è¯¢çš„æ–¹æ³•-ä¸€ä¸ªä¸ªæ¥)</span>
</code></pre></div></div>

<h4 id="æ—¥å¿—ä½¿ç”¨">æ—¥å¿—ä½¿ç”¨</h4>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">/var/log/nginx</code></p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">å®šåˆ¶æ—¥å¿—å†…å®¹</code>: nginx.conf</p>

<p>é…ç½®æ—¥å¿—æ ¼å¼ä½¿ç”¨çš„æ˜¯<code class="language-plaintext highlighter-rouge">log_format</code>å±æ€§</p>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/20210301125118.png" alt="" /></p>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/20210301125410.png" alt="å¸¦å‡†ç¡®ipæ—¥å¿—è¯¦ç»†é…ç½®" /></p>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#logging setting</span>
<span class="c1">#éœ€æ±‚: åœ¨è½¬å‘æ—¶å€™æºå¸¦ä¸ŠçœŸå®ipåœ°å€, éœ€è¦åœ¨è½¬å‘æ—¶å€™æŠŠåœ°å€æ”¾åˆ°headeré‡Œé¢</span>
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/20210228181731.png" alt="" /></p>

<p><img src="https://raw.githubusercontent.com/mannixchan/Pics/master/img/20210228182047.png" alt="" /></p>

<h4 id="éƒ¨ç½²å®è·µ">éƒ¨ç½²å®è·µ</h4>

<blockquote>
  <p>é‡å®šå‘åˆ°å…¶ä»–ç½‘ç«™</p>
</blockquote>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">location</span> <span class="n">/</span> <span class="p">{</span>
            <span class="kn">return</span> <span class="mi">302</span> <span class="s">http://www.baidu.com</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>åœ¨æœåŠ¡å™¨é…ç½®äº†å¤šä¸ªæœåŠ¡, æƒ³é€šè¿‡ä¸åŒç½‘å€åç¼€, è®¿é—®ä¸åŒçš„æœåŠ¡</p>
</blockquote>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">listen</span> <span class="mi">8000</span><span class="p">;</span>
		<span class="k">location</span> <span class="n">/sell</span> <span class="p">{</span>
            <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8010</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">location</span> <span class="n">/music</span> <span class="p">{</span>
            <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8020</span><span class="p">;</span>
        <span class="p">}</span>
<span class="c1">#æƒ³é€šè¿‡-ç½‘å€/sell -ç½‘å€/musicè®¿é—®åˆ°ä¸åŒçš„é¡¹ç›®, é™æ€æ–‡ä»¶åœ°å€, å¹¶ä¸”åå‘ä»£ç†åˆ°å…¶ä»–ç«¯å£</span>
    <span class="k">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">8020</span><span class="p">;</span>
        <span class="kn">location</span> <span class="n">/music</span> <span class="p">{</span>
            <span class="kn">alias</span> <span class="n">/root/www/vueMusci</span><span class="p">;</span>
        <span class="p">}</span>
<span class="c1">#æ­¤æ—¶è®¿é—®8000/music, å°±ä¼šè½¬å‘åˆ°8020/music, æ³¨æ„è½¬å‘çš„æ—¶å€™ä¼šå¸¦ç€/musicä¸€èµ·è½¬å‘, æ‰€ä»¥é…ç½®8020è¦å¸¦ç€/music</span>
<span class="c1">#æ³¨æ„-rootå’Œaliasçš„ç”¨æ³•</span>
    <span class="c1">#exeample</span>
        <span class="kn">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">8020</span><span class="p">;</span>
        <span class="kn">location</span> <span class="n">/music</span> <span class="p">{</span>
            <span class="kn">alias</span> <span class="n">/root/www/vueMusci</span><span class="p">;</span> <span class="c1">#æ­¤æ—¶ä¼šé»˜è®¤å¯»æ‰¾/root/www/vueMusciä¸‹çš„index.html</span>
        <span class="p">}</span>
        
         <span class="kn">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">8020</span><span class="p">;</span>
        <span class="kn">location</span> <span class="n">/music</span> <span class="p">{</span>
            <span class="kn">root</span> <span class="n">/root/www/vueMusci</span><span class="p">;</span> <span class="c1">#ä¼šå¯»æ‰¾/root/www/vueMusci/musicä¸‹çš„index.html, rootä¼šæ‹¼æ¥locationè§‰å¾—åœ°å€</span>
        <span class="p">}</span>
    <span class="c1"># æ‰€ä»¥ä¸€èˆ¬/...ä¸€èˆ¬ä½¿ç”¨alias, é™¤äº†æ ¹ç›®å½•éƒ½ç”¨alias</span>
</code></pre></div></div>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Mannix Chen&#39;s Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Mannix Chen&#39;s Blog</li><li><a class="u-email" href="mailto:job@mannixchen.com">job@mannixchen.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>This is a wonderful website about awesome stuff.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
